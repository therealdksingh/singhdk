<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dheeraj Kumar Singh — SPA (one section at a time)</title>
<meta name="description" content="Single-page SPA with nested subsections; shows only one main section at a time. Image loads from assets/profile.jpg"/>
<style>
  :root{--accent:#1f6feb;--muted:#666;--bg:#fbfbfb;--card:#fff;--maxw:1100px;font-family:Inter,Arial,Helvetica,sans-serif}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:#111;line-height:1.5}
  header{background:#fff;border-bottom:1px solid #eee;position:sticky;top:0;z-index:40}
  .wrap{max-width:var(--maxw);margin:0 auto;padding:12px 18px}
  .topbar{display:flex;align-items:center;justify-content:space-between}
  .brand{font-weight:700}
  nav a{margin-left:14px;text-decoration:none;color:inherit;font-weight:600;cursor:pointer}
  .page{display:grid;grid-template-columns:260px 1fr;gap:22px;max-width:var(--maxw);margin:18px auto;padding:0 18px 80px}
  .left{position:relative}
  .sticky{position:sticky;top:74px}
  .profile-card{background:var(--card);padding:18px;border-radius:10px;box-shadow:0 10px 30px rgba(20,20,20,0.04);text-align:center}
  .avatar{width:140px;height:140px;border-radius:50%;overflow:hidden;margin:0 auto 12px;background:#ddd}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}
  .meta-compact{color:var(--muted);font-size:14px;margin-top:6px}
  .quick-links{margin-top:12px;font-size:14px}
  .quick-links a{display:block;color:var(--accent);text-decoration:none;margin:6px 0}
  main{min-height:400px}
  .section{background:var(--card);padding:18px;border-radius:10px;box-shadow:0 10px 30px rgba(20,20,20,0.04);margin-bottom:18px}
  .hidden{display:none !important}
  .section-header{display:flex;justify-content:space-between;align-items:center;gap:12px}
  .section-header h2{margin:0;font-size:18px}
  .subnav{margin-top:12px;display:flex;flex-wrap:wrap;gap:8px}
  .subnav button{background:transparent;border:1px solid #e6e6e6;padding:8px 10px;border-radius:8px;cursor:pointer}
  .subnav button.active{border-color:var(--accent);color:var(--accent);font-weight:700}
  .subsection{margin-top:14px;padding:12px;border-radius:8px;border:1px solid #f0f0f0;background:#fff}
  .muted{color:var(--muted)}
  a{color:var(--accent)}
  footer{padding:18px;border-top:1px solid #eee;text-align:center;color:var(--muted);margin-top:28px}
  @media (max-width:900px){
    .page{grid-template-columns:1fr; padding:0 12px}
    .sticky{position:static}
    .avatar{width:110px;height:110px}
  }
</style>
</head>
<body>
  <header>
    <div class="wrap topbar" role="banner">
      <div class="brand">Dheeraj Kumar Singh</div>
      <nav aria-label="Main navigation">
        <!-- data-section attribute maps to the section id below -->
        <a data-section="home">Home</a>
        <a data-section="research">Research</a>
        <a data-section="teaching">Teaching</a>
        <a data-section="oxford">The Oxford Union</a>
        <a data-section="contact">Contact</a>
      </nav>
    </div>
  </header>

  <div class="page" role="main">
    <!-- LEFT PROFILE -->
    <aside class="left" aria-label="Profile column">
      <div class="sticky">
        <div class="profile-card" role="region" aria-labelledby="profile-name">
          <div class="avatar" aria-hidden="false">
            <img id="profile-img" src="assets/profile.jpg" alt="Dheeraj Kumar Singh">
          </div>
          <div id="profile-name" style="font-weight:700">Dheeraj Kumar Singh</div>
          <div class="meta-compact">Graduate Student — Economics<br>University of Oxford</div>

          <div class="quick-links" aria-hidden="false">
            <a data-section="research">Research</a>
            <a data-section="teaching">Teaching</a>
            <a data-section="oxford">The Oxford Union</a>
            <a data-section="contact">Contact / CV</a>
          </div>

          <div style="margin-top:12px;font-size:13px;color:var(--muted)">
            <div>Email: <a href="mailto:dheeraj.singh@economics.ox.ac.uk">dheeraj.singh@economics.ox.ac.uk</a></div>
            <div>GitHub: <a href="https://github.com/realdksingh" target="_blank" rel="noopener">realdksingh</a></div>
          </div>
        </div>
      </div>
    </aside>

    <!-- CENTER: ONE main section visible at a time -->
    <main class="center">
      <!-- HOME -->
      <section id="home" class="section" data-section>
        <div class="section-header"><h2>Home</h2><div class="muted">Welcome — click nav to open a section</div></div>
        <p class="muted" style="margin-top:12px">I am a graduate economist working on microeconomic theory, game theory, and information design. Use the subsections inside each main section for publications, projects, talks, etc.</p>
      </section>

      <!-- RESEARCH -->
      <section id="research" class="section hidden" data-section>
        <div class="section-header"><h2>Research</h2><div class="muted">Overview & nested subsections</div></div>

        <div class="subnav" role="tablist" aria-label="Research subsections">
          <button data-parent="research" data-sub="overview" class="active">Overview</button>
          <button data-parent="research" data-sub="publications">Publications</button>
          <button data-parent="research" data-sub="projects">Projects</button>
        </div>

        <div id="research:overview" class="subsection" data-parent="research" data-name="overview">
          <h3 style="margin-top:0">Overview</h3>
          <p class="muted">Microeconomic Theory, Game Theory, Information Design. Research focuses on strategic behaviour under asymmetric information, optimal information structures, and dynamic incentive mechanisms.</p>
        </div>

        <div id="research:publications" class="subsection hidden" data-parent="research" data-name="publications">
          <h3 style="margin-top:0">Publications</h3>
          <ol>
            <li><strong>Working paper title</strong> — short note. <a href="#">PDF</a></li>
          </ol>
        </div>

        <div id="research:projects" class="subsection hidden" data-parent="research" data-name="projects">
          <h3 style="margin-top:0">Projects</h3>
          <ul><li>Project A — short description</li></ul>
        </div>
      </section>

      <!-- TEACHING -->
      <section id="teaching" class="section hidden" data-section>
        <div class="section-header"><h2>Teaching</h2><div class="muted">Tutorials, Grading, TA roles</div></div>
        <div class="subnav" role="tablist" aria-label="Teaching subsections">
          <button data-parent="teaching" data-sub="overview" class="active">Overview</button>
          <button data-parent="teaching" data-sub="tutorials">Tutorials</button>
          <button data-parent="teaching" data-sub="grading">Grading / TA</button>
        </div>

        <div id="teaching:overview" class="subsection" data-parent="teaching" data-name="overview">
          <h3 style="margin-top:0">Overview</h3>
          <p class="muted">College tutoring and course assistance across microeconomics and applied math courses.</p>
        </div>

        <div id="teaching:tutorials" class="subsection hidden" data-parent="teaching" data-name="tutorials">
          <h3 style="margin-top:0">Tutorials</h3>
          <ul><li>Core Microeconomics (HT 2025)</li></ul>
        </div>

        <div id="teaching:grading" class="subsection hidden" data-parent="teaching" data-name="grading">
          <h3 style="margin-top:0">Grading & TA</h3>
          <ul><li>Grader — Core Microeconomics (MT 2024)</li></ul>
        </div>
      </section>

      <!-- OXFORD -->
      <section id="oxford" class="section hidden" data-section>
        <div class="section-header"><h2>The Oxford Union</h2><div class="muted">Events, talks, committee roles</div></div>
        <div class="subnav" role="tablist" aria-label="Oxford subsections">
          <button data-parent="oxford" data-sub="overview" class="active">Overview</button>
          <button data-parent="oxford" data-sub="events">Events</button>
          <button data-parent="oxford" data-sub="committee">Committee</button>
        </div>

        <div id="oxford:overview" class="subsection" data-parent="oxford" data-name="overview">
          <h3 style="margin-top:0">Overview</h3><p class="muted">Notes and involvement with Union activities.</p>
        </div>

        <div id="oxford:events" class="subsection hidden" data-parent="oxford" data-name="events">
          <h3 style="margin-top:0">Events</h3><ul><li>Example event — Date</li></ul>
        </div>

        <div id="oxford:committee" class="subsection hidden" data-parent="oxford" data-name="committee">
          <h3 style="margin-top:0">Committee</h3><p>Role details</p>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact" class="section hidden" data-section>
        <div class="section-header"><h2>Contact</h2><div class="muted">Email, phone, CV</div></div>
        <div class="subnav" role="tablist" aria-label="Contact subsections">
          <button data-parent="contact" data-sub="info" class="active">Info</button>
          <button data-parent="contact" data-sub="cv">CV (PDF)</button>
          <button data-parent="contact" data-sub="links">Links</button>
        </div>

        <div id="contact:info" class="subsection" data-parent="contact" data-name="info">
          <h3 style="margin-top:0">Contact</h3>
          <p><strong>Email:</strong> <a href="mailto:dheeraj.singh@economics.ox.ac.uk">dheeraj.singh@economics.ox.ac.uk</a></p>
        </div>

        <div id="contact:cv" class="subsection hidden" data-parent="contact" data-name="cv">
          <h3 style="margin-top:0">CV</h3>
          <p><a href="My_CV__Tentative___Copy_.pdf" target="_blank" rel="noopener">Download CV (PDF)</a></p>
        </div>

        <div id="contact:links" class="subsection hidden" data-parent="contact" data-name="links">
          <h3 style="margin-top:0">Links</h3><ul><li><a href="https://github.com/realdksingh" target="_blank" rel="noopener">GitHub</a></li></ul>
        </div>
      </section>
    </main>
  </div>

  <footer>© <span id="year"></span> Dheeraj Kumar Singh</footer>

<script>
/* --- SPA helpers: show ONE main section at a time; nested subsection handling + deep links --- */

const sections = Array.from(document.querySelectorAll('[data-section]'));
function showMainSection(id, push=true){
  sections.forEach(s => s.classList.add('hidden'));
  const el = document.getElementById(id);
  if(!el) return;
  el.classList.remove('hidden');

  // open default nested subsection for that section (first button), if any
  const firstBtn = el.querySelector('button[data-parent]');
  if(firstBtn){
    // simulate showing its subsection
    const parent = firstBtn.dataset.parent;
    const sub = firstBtn.dataset.sub;
    showSubsection(parent, sub, false);
  }

  // update URL hash
  if(push){
    history.replaceState(null,'','#' + id);
  }
  // scroll top of visible section into view
  el.scrollIntoView({behavior:'smooth', block:'start'});
}

// subsections (same behavior as before)
function showSubsection(parent, name, push=true){
  document.querySelectorAll('[data-parent="'+parent+'"]').forEach(el=>{
    if(el.dataset.name) el.classList.add('hidden');
  });
  document.querySelectorAll('button[data-parent="'+parent+'"]').forEach(b=>b.classList.remove('active'));
  const sel = document.getElementById(parent+':'+name);
  if(sel) sel.classList.remove('hidden');
  const btn = document.querySelector('button[data-parent="'+parent+'"][data-sub="'+name+'"]');
  if(btn) btn.classList.add('active');
  if(push){
    history.replaceState(null,'','#'+parent+'/'+name);
  }
}

// wire top nav and left links
document.querySelectorAll('a[data-section]').forEach(a=>{
  a.addEventListener('click', e=>{
    e.preventDefault();
    const sec = a.dataset.section;
    showMainSection(sec);
  });
});
document.querySelectorAll('[data-section]').forEach(el=>{
  el.addEventListener('click', e=>{
    // allow ctrl/cmd open in new tab
    if(e.metaKey||e.ctrlKey) return;
  });
});

// wire subnav buttons
document.querySelectorAll('button[data-parent]').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const parent = btn.dataset.parent;
    const sub = btn.dataset.sub;
    showSubsection(parent, sub);
  });
});

// handle on-load hash values: #section or #section/sub
function handleHash(){
  const raw = location.hash.replace('#','');
  if(!raw) { showMainSection('home', false); return; }
  const parts = raw.split('/');
  const sec = parts[0];
  const sub = parts[1] || null;

  // if section exists, show it
  if(document.getElementById(sec)){
    showMainSection(sec, false);
    if(sub){
      // attempt to show subsection
      const btn = document.querySelector('button[data-parent="'+sec+'"][data-sub="'+sub+'"]');
      if(btn) showSubsection(sec, sub, false);
    }
  } else {
    // fallback to home
    showMainSection('home', false);
  }
}

// image load error fallback
const profileImg = document.getElementById('profile-img');
profileImg.addEventListener('error', ()=> {
  console.error('Profile image failed to load: assets/profile.jpg — make sure the file exists and is named exactly assets/profile.jpg (case-sensitive).');
  // fallback placeholder
  profileImg.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(
    '<svg xmlns="http://www.w3.org/2000/svg" width="280" height="280"><rect fill="#ddd" width="100%" height="100%"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Arial" font-size="20" fill="#777">No image</text></svg>'
  );
});

// init
window.addEventListener('hashchange', handleHash);
window.addEventListener('load', ()=>{
  document.getElementById('year').textContent = new Date().getFullYear();
  handleHash();
});
</script>
</body>
</html>
